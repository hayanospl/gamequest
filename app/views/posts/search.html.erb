<h1>検索</h1>
<p>タイトルか本文のキーワードにヒットします</p>
<p>いいねの数は、入力した数字以上のいいね数を持つ投稿を検索します</p>
<%= form_with url: search_posts_path, method: :get, local: true do |f| %>
  <%= f.text_field :keyword, placeholder: "キーワードを一つ入力"%></br>
  <%= f.text_field :likecount, placeholder: "いいねの数を入力"%></br>
  <%= f.submit :検索 %>
<% end %>

<h5>検索結果</h5>
<table class="table">
  <thead>
    <tr>
      <th scope="col">NO.</th>
      <th scope="col">ユーザー</th>
      <th scope="col">タイトル</th>
      <th scope="col">本文</th>
      <th scope="col">返信数</th>
      <th scope="col">いいね数</th>
      <th scope="col">投稿詳細</th>
    </tr>
  </thead>
  <tbody>
      <% @posts.each do |post| %>
        <tr>
          <th scope="row"><%= post.id %></th>
          <td scope="row"><%= post.user.name %></td>
          <td scope="row"><%= post.title %></td>
          <td scope="row"><%= post.content %></td>
          <td scope="row"><%= post.comments.count %></td>
          <td scope="row"><%= post.likes.count %></td>
          <td scope="row"><%= link_to "詳細", post_path(post.id) %></td>
        </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @posts unless @posts.blank? %>
